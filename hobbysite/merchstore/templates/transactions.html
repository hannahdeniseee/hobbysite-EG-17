{% extends 'base.html' %}

{% block content %}
  <h2 class="text-xl font-bold mb-4">Transactions for Your Products</h2>

  {% if grouped_transactions %}
    {% for buyer, transactions in grouped_transactions.items %}
      <div class="mb-6 p-4 border rounded-lg bg-gray-50">
        <h3 class="text-lg font-semibold mb-2">
          Buyer: {{ buyer.user.username }}
        </h3>
        <ul class="space-y-2">
          {% for transaction in transactions %}
            <li class="p-3 bg-white rounded shadow-sm border">
              <strong>Product:</strong> {{ transaction.product.name }}<br>
              <strong>Amount:</strong> {{ transaction.amount }}<br>
              <strong>Status:</strong> {{ transaction.status }}<br>
              <strong>Date:</strong> {{ transaction.created_on|date:"M d, Y H:i" }}
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  {% else %}
    <p>No transactions found for your products.</p>
  {% endif %}
{% endblock %}
